{"ast":null,"code":"/* eslint-disable import/no-anonymous-default-export */\nimport { REGISTER_SUCCESS, REGISTER_FAIL, SET_CURRENT, CLEAR_CURRENT, UPDATE_CONTACT, FILTER_CONTACTS, CLEAR_FILTER, CLEAR_ERRORS, USER_LOADED, AUTH_ERROR } from \"../types\";\nexport default ((state, action) => {\n  switch (action.type) {\n    case USER_LOADED:\n      return { ...state,\n        isAthenticated: true,\n        loading: false,\n        user: action.payload\n      };\n\n    case REGISTER_SUCCESS:\n      localStorage.setItem(\"token\", action.payload.token);\n      return { ...state,\n        ...action.payload,\n        isAthenticated: true,\n        loading: false\n      };\n\n    case REGISTER_FAIL:\n    case AUTH_ERROR:\n      localStorage.removeItem(\"token\");\n      return { ...state,\n        token: null,\n        isAuthenticated: false,\n        loading: false,\n        user: null,\n        error: action.payload\n      };\n\n    case CLEAR_ERRORS:\n      localStorage.removeItem(\"token\");\n      return { ...state,\n        error: null\n      };\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["/Users/Tania/Work/REACT/Dustin_git/contact-keeper/client/src/context/auth/authReducer.js"],"names":["REGISTER_SUCCESS","REGISTER_FAIL","SET_CURRENT","CLEAR_CURRENT","UPDATE_CONTACT","FILTER_CONTACTS","CLEAR_FILTER","CLEAR_ERRORS","USER_LOADED","AUTH_ERROR","state","action","type","isAthenticated","loading","user","payload","localStorage","setItem","token","removeItem","isAuthenticated","error"],"mappings":"AAAA;AACA,SACCA,gBADD,EAECC,aAFD,EAGCC,WAHD,EAICC,aAJD,EAKCC,cALD,EAMCC,eAND,EAOCC,YAPD,EAQCC,YARD,EASCC,WATD,EAUCC,UAVD,QAWO,UAXP;AAaA,gBAAe,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACjC,UAAQA,MAAM,CAACC,IAAf;AACC,SAAKJ,WAAL;AACC,aAAO,EACN,GAAGE,KADG;AAENG,QAAAA,cAAc,EAAE,IAFV;AAGNC,QAAAA,OAAO,EAAE,KAHH;AAINC,QAAAA,IAAI,EAAEJ,MAAM,CAACK;AAJP,OAAP;;AAMD,SAAKhB,gBAAL;AACCiB,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BP,MAAM,CAACK,OAAP,CAAeG,KAA7C;AACA,aAAO,EACN,GAAGT,KADG;AAEN,WAAGC,MAAM,CAACK,OAFJ;AAGNH,QAAAA,cAAc,EAAE,IAHV;AAINC,QAAAA,OAAO,EAAE;AAJH,OAAP;;AAMD,SAAKb,aAAL;AACA,SAAKQ,UAAL;AACCQ,MAAAA,YAAY,CAACG,UAAb,CAAwB,OAAxB;AACA,aAAO,EACN,GAAGV,KADG;AAENS,QAAAA,KAAK,EAAE,IAFD;AAGNE,QAAAA,eAAe,EAAE,KAHX;AAINP,QAAAA,OAAO,EAAE,KAJH;AAKNC,QAAAA,IAAI,EAAE,IALA;AAMNO,QAAAA,KAAK,EAAEX,MAAM,CAACK;AANR,OAAP;;AAQD,SAAKT,YAAL;AACCU,MAAAA,YAAY,CAACG,UAAb,CAAwB,OAAxB;AACA,aAAO,EACN,GAAGV,KADG;AAENY,QAAAA,KAAK,EAAE;AAFD,OAAP;;AAID;AACC,aAAOZ,KAAP;AAlCF;AAoCA,CArCD","sourcesContent":["/* eslint-disable import/no-anonymous-default-export */\nimport {\n\tREGISTER_SUCCESS,\n\tREGISTER_FAIL,\n\tSET_CURRENT,\n\tCLEAR_CURRENT,\n\tUPDATE_CONTACT,\n\tFILTER_CONTACTS,\n\tCLEAR_FILTER,\n\tCLEAR_ERRORS,\n\tUSER_LOADED,\n\tAUTH_ERROR,\n} from \"../types\";\n\nexport default (state, action) => {\n\tswitch (action.type) {\n\t\tcase USER_LOADED:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisAthenticated: true,\n\t\t\t\tloading: false,\n\t\t\t\tuser: action.payload,\n\t\t\t};\n\t\tcase REGISTER_SUCCESS:\n\t\t\tlocalStorage.setItem(\"token\", action.payload.token);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.payload,\n\t\t\t\tisAthenticated: true,\n\t\t\t\tloading: false,\n\t\t\t};\n\t\tcase REGISTER_FAIL:\n\t\tcase AUTH_ERROR:\n\t\t\tlocalStorage.removeItem(\"token\");\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttoken: null,\n\t\t\t\tisAuthenticated: false,\n\t\t\t\tloading: false,\n\t\t\t\tuser: null,\n\t\t\t\terror: action.payload,\n\t\t\t};\n\t\tcase CLEAR_ERRORS:\n\t\t\tlocalStorage.removeItem(\"token\");\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\terror: null,\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n"]},"metadata":{},"sourceType":"module"}