{"ast":null,"code":"import _asyncToGenerator from\"/Users/dustinmcelroy/Desktop/Programming/Projects/contact-keeper/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/dustinmcelroy/Desktop/Programming/Projects/contact-keeper/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/dustinmcelroy/Desktop/Programming/Projects/contact-keeper/client/node_modules/@babel/runtime/regenerator/index.js\";import React,{Fragment,useReducer}from\"react\";import axios from\"axios\";import ContactContext from\"./contactContext\";import ContactReducer from\"./contactReducer\";import{ADD_CONTACT,DELETE_CONTACT,CONTACT_ERROR,SET_CURRENT,CLEAR_CURRENT,UPDATE_CONTACT,FILTER_CONTACTS,CLEAR_FILTER,GET_CONTACTS,CLEAR_CONTACTS}from\"../types\";import{jsx as _jsx}from\"react/jsx-runtime\";var ContactState=function ContactState(props){var initialState={contacts:null,current:null,filtered:null,error:null};var _useReducer=useReducer(ContactReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];// Get Contacts\nvar getContacts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/api/contacts\");case 3:res=_context.sent;dispatch({type:GET_CONTACTS,payload:res.data});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);dispatch({type:CONTACT_ERROR,payload:_context.t0.res.msg});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getContacts(){return _ref.apply(this,arguments);};}();// Add Contact\nvar addContact=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(contact){var config,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:config={headers:{\"Content-Type\":\"application/json\"}};_context2.prev=1;_context2.next=4;return axios.post(\"/api/contacts\",contact,config);case 4:res=_context2.sent;dispatch({type:ADD_CONTACT,payload:res.data});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);dispatch({type:CONTACT_ERROR,payload:_context2.t0.res.msg});case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function addContact(_x){return _ref2.apply(this,arguments);};}();// Delete Contact\nvar deleteContact=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.delete(\"/api/contacts/\".concat(id));case 3:dispatch({type:DELETE_CONTACT,payload:id});_context3.next=9;break;case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](0);dispatch({type:CONTACT_ERROR,payload:_context3.t0.res.msg});case 9:case\"end\":return _context3.stop();}}},_callee3,null,[[0,6]]);}));return function deleteContact(_x2){return _ref3.apply(this,arguments);};}();// Update Contact\nvar updateContact=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(contact){var config,res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:config={headers:{\"Content-Type\":\"application/json\"}};_context4.prev=1;_context4.next=4;return axios.put(\"/api/contacts/\".concat(contact._id),contact,config);case 4:res=_context4.sent;dispatch({type:UPDATE_CONTACT,payload:res.data});_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](1);dispatch({type:CONTACT_ERROR,payload:_context4.t0.res.msg});case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[1,8]]);}));return function updateContact(_x3){return _ref4.apply(this,arguments);};}();// Clear Contacts\nvar clearContacts=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:dispatch({type:CLEAR_CONTACTS});case 1:case\"end\":return _context5.stop();}}},_callee5);}));return function clearContacts(){return _ref5.apply(this,arguments);};}();// Set Current Contact\nvar setCurrent=function setCurrent(contact){dispatch({type:SET_CURRENT,payload:contact});};// Clear Current Contact\nvar clearCurrent=function clearCurrent(){dispatch({type:CLEAR_CURRENT});};// Filter Contact\nvar filterContacts=function filterContacts(text){dispatch({type:FILTER_CONTACTS,payload:text});};// Clear Filter\nvar clearFilter=function clearFilter(){dispatch({type:CLEAR_FILTER});};return/*#__PURE__*/_jsx(ContactContext.Provider,{value:{contacts:state.contacts,current:state.current,filtered:state.filtered,error:state.error,addContact:addContact,getContacts:getContacts,deleteContact:deleteContact,setCurrent:setCurrent,clearCurrent:clearCurrent,updateContact:updateContact,filterContacts:filterContacts,clearFilter:clearFilter,clearContacts:clearContacts},children:props.children});};export default ContactState;","map":{"version":3,"sources":["/Users/dustinmcelroy/Desktop/Programming/Projects/contact-keeper/client/src/context/contact/ContactState.js"],"names":["React","Fragment","useReducer","axios","ContactContext","ContactReducer","ADD_CONTACT","DELETE_CONTACT","CONTACT_ERROR","SET_CURRENT","CLEAR_CURRENT","UPDATE_CONTACT","FILTER_CONTACTS","CLEAR_FILTER","GET_CONTACTS","CLEAR_CONTACTS","ContactState","props","initialState","contacts","current","filtered","error","state","dispatch","getContacts","get","res","type","payload","data","msg","addContact","contact","config","headers","post","deleteContact","id","delete","updateContact","put","_id","clearContacts","setCurrent","clearCurrent","filterContacts","text","clearFilter","children"],"mappings":"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","sourcesContent":["import React, { Fragment, useReducer } from \"react\";\nimport axios from \"axios\";\nimport ContactContext from \"./contactContext\";\nimport ContactReducer from \"./contactReducer\";\nimport {\n\tADD_CONTACT,\n\tDELETE_CONTACT,\n\tCONTACT_ERROR,\n\tSET_CURRENT,\n\tCLEAR_CURRENT,\n\tUPDATE_CONTACT,\n\tFILTER_CONTACTS,\n\tCLEAR_FILTER,\n\tGET_CONTACTS,\n\tCLEAR_CONTACTS,\n} from \"../types\";\n\nconst ContactState = (props) => {\n\tconst initialState = {\n\t\tcontacts: null,\n\t\tcurrent: null,\n\t\tfiltered: null,\n\t\terror: null,\n\t};\n\tconst [state, dispatch] = useReducer(ContactReducer, initialState);\n\n\t// Get Contacts\n\tconst getContacts = async () => {\n\t\ttry {\n\t\t\tconst res = await axios.get(\"/api/contacts\");\n\t\t\tdispatch({ type: GET_CONTACTS, payload: res.data });\n\t\t} catch (err) {\n\t\t\tdispatch({ type: CONTACT_ERROR, payload: err.res.msg });\n\t\t}\n\t};\n\n\t// Add Contact\n\tconst addContact = async (contact) => {\n\t\tconst config = {\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t};\n\n\t\ttry {\n\t\t\tconst res = await axios.post(\"/api/contacts\", contact, config);\n\n\t\t\tdispatch({ type: ADD_CONTACT, payload: res.data });\n\t\t} catch (err) {\n\t\t\tdispatch({ type: CONTACT_ERROR, payload: err.res.msg });\n\t\t}\n\t};\n\n\t// Delete Contact\n\tconst deleteContact = async (id) => {\n\t\ttry {\n\t\t\tawait axios.delete(`/api/contacts/${id}`);\n\n\t\t\tdispatch({ type: DELETE_CONTACT, payload: id });\n\t\t} catch (err) {\n\t\t\tdispatch({ type: CONTACT_ERROR, payload: err.res.msg });\n\t\t}\n\t};\n\n\t// Update Contact\n\tconst updateContact = async (contact) => {\n\t\tconst config = {\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t};\n\n\t\ttry {\n\t\t\tconst res = await axios.put(`/api/contacts/${contact._id}`, contact, config);\n\n\t\t\tdispatch({ type: UPDATE_CONTACT, payload: res.data });\n\t\t} catch (err) {\n\t\t\tdispatch({ type: CONTACT_ERROR, payload: err.res.msg });\n\t\t}\n\t};\n\n\t// Clear Contacts\n\tconst clearContacts = async () => {\n\t\tdispatch({ type: CLEAR_CONTACTS });\n\t};\n\n\t// Set Current Contact\n\tconst setCurrent = (contact) => {\n\t\tdispatch({ type: SET_CURRENT, payload: contact });\n\t};\n\n\t// Clear Current Contact\n\tconst clearCurrent = () => {\n\t\tdispatch({ type: CLEAR_CURRENT });\n\t};\n\n\t// Filter Contact\n\tconst filterContacts = (text) => {\n\t\tdispatch({ type: FILTER_CONTACTS, payload: text });\n\t};\n\n\t// Clear Filter\n\tconst clearFilter = () => {\n\t\tdispatch({ type: CLEAR_FILTER });\n\t};\n\n\treturn (\n\t\t<ContactContext.Provider\n\t\t\tvalue={{\n\t\t\t\tcontacts: state.contacts,\n\t\t\t\tcurrent: state.current,\n\t\t\t\tfiltered: state.filtered,\n\t\t\t\terror: state.error,\n\t\t\t\taddContact,\n\t\t\t\tgetContacts,\n\t\t\t\tdeleteContact,\n\t\t\t\tsetCurrent,\n\t\t\t\tclearCurrent,\n\t\t\t\tupdateContact,\n\t\t\t\tfilterContacts,\n\t\t\t\tclearFilter,\n\t\t\t\tclearContacts,\n\t\t\t}}\n\t\t>\n\t\t\t{props.children}\n\t\t</ContactContext.Provider>\n\t);\n};\n\nexport default ContactState;\n"]},"metadata":{},"sourceType":"module"}