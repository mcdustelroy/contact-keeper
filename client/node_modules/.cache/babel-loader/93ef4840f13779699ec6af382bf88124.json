{"ast":null,"code":"import _defineProperty from\"/Users/dustinmcelroy/Desktop/Programming/Projects/contact-keeper/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/dustinmcelroy/Desktop/Programming/Projects/contact-keeper/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/dustinmcelroy/Desktop/Programming/Projects/contact-keeper/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext,useEffect}from\"react\";import AlertContext from\"../../context/alert/alertContext\";import AuthContext from\"../../context/auth/authContext\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(){var alertContext=useContext(AlertContext);var authContext=useContext(AuthContext);var navigate=useNavigate();var setAlert=alertContext.setAlert;var register=authContext.register,error=authContext.error,clearErrors=authContext.clearErrors,isAuthenticated=authContext.isAuthenticated;useEffect(function(){if(isAuthenticated){navigate(\"/\");}if(error===\"user already exists\"){setAlert(error,\"danger\");clearErrors();}// eslint-disable-next-line\n},[error,isAuthenticated,navigate]);var _useState=useState({name:\"\",email:\"\",password:\"\",password2:\"\"}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var name=user.name,email=user.email,password=user.password,password2=user.password2;var onChange=function onChange(e){return setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();if(name===\"\"||email===\"\"||password===\"\"){setAlert(\"Please enter all fields\",\"danger\");}else if(password!==password2){setAlert(\"Passwords must match\",\"danger\");}else{register({name:name,email:email,password:password});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Account \",/*#__PURE__*/_jsx(\"span\",{className:\"text-primary\",children:\"Register\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:name,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email Adress\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:email,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:password,onChange:onChange,minLength:\"6\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password2\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password2\",value:password2,onChange:onChange,minLength:\"6\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Register\",className:\"btn btn-primary btn-block\"})]})]});};export default Register;","map":{"version":3,"sources":["/Users/dustinmcelroy/Desktop/Programming/Projects/contact-keeper/client/src/components/auth/Register.js"],"names":["React","useState","useContext","useEffect","AlertContext","AuthContext","useNavigate","Register","alertContext","authContext","navigate","setAlert","register","error","clearErrors","isAuthenticated","name","email","password","password2","user","setUser","onChange","e","target","value","onSubmit","preventDefault"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport AlertContext from \"../../context/alert/alertContext\";\nimport AuthContext from \"../../context/auth/authContext\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst Register = () => {\n\tconst alertContext = useContext(AlertContext);\n\tconst authContext = useContext(AuthContext);\n\tconst navigate = useNavigate();\n\n\tconst { setAlert } = alertContext;\n\tconst { register, error, clearErrors, isAuthenticated } = authContext;\n\n\tuseEffect(() => {\n\t\tif (isAuthenticated) {\n\t\t\tnavigate(\"/\");\n\t\t}\n\n\t\tif (error === \"user already exists\") {\n\t\t\tsetAlert(error, \"danger\");\n\t\t\tclearErrors();\n\t\t}\n\t\t// eslint-disable-next-line\n\t}, [error, isAuthenticated, navigate]);\n\n\tconst [user, setUser] = useState({\n\t\tname: \"\",\n\t\temail: \"\",\n\t\tpassword: \"\",\n\t\tpassword2: \"\",\n\t});\n\tconst { name, email, password, password2 } = user;\n\n\tconst onChange = (e) => setUser({ ...user, [e.target.name]: e.target.value });\n\n\tconst onSubmit = (e) => {\n\t\te.preventDefault();\n\t\tif (name === \"\" || email === \"\" || password === \"\") {\n\t\t\tsetAlert(\"Please enter all fields\", \"danger\");\n\t\t} else if (password !== password2) {\n\t\t\tsetAlert(\"Passwords must match\", \"danger\");\n\t\t} else {\n\t\t\tregister({\n\t\t\t\tname,\n\t\t\t\temail,\n\t\t\t\tpassword,\n\t\t\t});\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"form-container\">\n\t\t\t<h1>\n\t\t\t\tAccount <span className=\"text-primary\">Register</span>\n\t\t\t</h1>\n\t\t\t<form onSubmit={onSubmit}>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"name\">Name</label>\n\t\t\t\t\t<input type=\"text\" name=\"name\" value={name} onChange={onChange} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"email\">Email Adress</label>\n\t\t\t\t\t<input type=\"email\" name=\"email\" value={email} onChange={onChange} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"password\">Password</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\tminLength=\"6\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"password2\">Confirm Password</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tname=\"password2\"\n\t\t\t\t\t\tvalue={password2}\n\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\tminLength=\"6\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<input type=\"submit\" value=\"Register\" className=\"btn btn-primary btn-block\" />\n\t\t\t</form>\n\t\t</div>\n\t);\n};\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}